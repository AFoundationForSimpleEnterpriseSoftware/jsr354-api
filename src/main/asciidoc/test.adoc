JSR 354 Money and Currency -- Specification
============================================
:title: JSR 354 (Money & Currency) - Specification
:revnumber: 0.9-SNAPSHOT
:revremark: Public Final Draft
:revdate: June 2014
:longversion: {revnumber} ({revremark}) {revdate}
:authorinitials: ATR
:author: Anatole Tresch, Credit Suisse
:email: <anatole.tresch@credit-suisse.com>
:source-highlighter: coderay
:website: http://javamoney.org/
:iconsdir: {imagesdir}/icons
:toc:
:toc-placement: manual
:icons:
:encoding: UTF-8
:title: JSR 354 (Money & Currency) - Specification
:numbered:

'''

<<<

image::https://raw.githubusercontent.com/JavaMoney/jsr354-api/master/src/main/asciidoc/images/javamoney_cup.jpg[]

toc::[]

<<<
:numbered!:

*EVALUATION LICENCE*

*JSR-000354 Money and Currency API 1.0 Public Review*

CREDIT SUISSE AG IS WILLING TO LICENSE THIS SPECIFICATION TO YOU ONLY
UPON THE CONDITION THAT YOU ACCEPT ALL OF THE TERMS CONTAINED IN THIS
LICENSE AGREEMENT ("AGREEMENT"). PLEASE READ THE TERMS AND CONDITIONS
OF THIS AGREEMENT CAREFULLY. BY DOWNLOADING THIS SPECIFICATION, YOU
ACCEPT THE TERMS AND CONDITIONS OF THIS AGREEMENT. IF YOU ARE NOT
WILLING TO BE BOUND BY THEM, SELECT THE "DECLINE" BUTTON AT THE
BOTTOM OF THIS PAGE AND THE DOWNLOADING PROCESS WILL NOT CONTINUE.


Specification: JSR-354 Money and Currency API ("Specification")+
Version: {revnumber}+
Status: {revremark}+
Release: {revdate}+
Copyright 2013-2014 Credit Suisse AG+
8070 Zurich, Switzerland+
All rights reserved.+

*NOTICE*

The Specification is protected by copyright and the information
described therein may be protected by one or more U.S. patents,
foreign patents, or pending applications. Except as provided under
the following license, no part of the Specification may be
reproduced in any form by any means without the prior written
authorization of Credit Suisse AG ("the Specification Lead") and its
licensors, if any. Any use of the Specification and the information
described therein will be governed by the terms and conditions of
this Agreement.

Subject to the terms and conditions of this license, including your
compliance with Paragraphs 1 and 2 below, the Specification Lead
hereby grants you a fully-paid, non-exclusive, non-transferable,
limited license (without the right to sublicense) under the
Specification Lead's intellectual property rights to:

1. Review the Specification for the purposes of evaluation. This
includes:
(i)   developing implementations of the Specification for your
      internal, non-commercial use;
(ii)  discussing the Specification with any third party; and
(iii) excerpting brief portions of the Specification in oral or
      written communications which discuss the Specification
      provided that such excerpts do not in the aggregate
      constitute a significant portion of the Technology.

2. Distribute implementations of the Specification to third parties
   for their testing and evaluation use, provided that any such
   implementation:
(a) does not modify, subset, superset or otherwise extend the
    Licensor Name Space, or include any public or protected packages,
    classes, Java interfaces, fields or methods within the Licensor
    Name Space other than those required/authorized by the
    Specification or Specifications being implemented;
(b) is clearly and prominently marked with the word "UNTESTED" or
    "EARLY ACCESS" or "INCOMPATIBLE" or "UNSTABLE" or "BETA" in
    any list of available builds and in proximity to every link
    initiating its download, where the list or link is under
    Licensee's control; and
(c) includes the following notice: "This is an implementation of
    an early-draft specification developed under the Java Community
    Process (JCP) and is made available for testing and evaluation
    purposes only. The code is not compatible with any specification
    of the JCP."

The grant set forth above concerning your distribution of
implementations of the specification is contingent upon your
agreement to terminate development and distribution of your
"early draft" implementation as soon as feasible following final
completion of the specification. If you fail to do so, the foregoing
grant shall be considered null and void. No provision of this
Agreement shall be understood to restrict your ability to make
and distribute to third parties applications written to the
Specification. Other than this limited license, you acquire no
right, title or interest in or to the Specification or any other
intellectual property of the Specification Lead, and the
Specification may only be used in accordance with the license terms
set forth herein. This license will expire on the earlier of:
(a) two (2) years from the date of Release listed above; (b) the
date on which the final version of the Specification is publicly
released; or (c) the date on which the Java Specification Request
(JSR) to which the Specification corresponds is withdrawn. In
addition, this license will terminate immediately without notice
from the Specification Lead if you fail to comply with any provision
of this license. Upon termination, you must cease use of or destroy
the Specification.

"Licensor Name Space" means the public class or interface
declarations whose names begin with "java", "javax", "com.oracle"
or their equivalents in any subsequent naming convention adopted
by Credit Suisse AG through the Java Community Process, or any
recognized successors or replacements thereof.

*TRADEMARKS*

No right, title, or interest in or to any trademarks, service
marks, or trade names of Credit Suisse AG or Credit Suisse AG's
licensors is granted hereunder. Oracle, the Oracle logo, Java
are trademarks or registered trademarks of Oracle USA, Inc. in
the U.S. and other countries.


*DISCLAIMER OF WARRANTIES*

THE SPECIFICATION IS PROVIDED "AS IS" AND IS EXPERIMENTAL AND
MAY CONTAIN DEFECTS OR DEFICIENCIES WHICH CANNOT OR WILL NOT BE
CORRECTED BY THE SPECIFICATION LEADS. THE SPECIFICATION LEADS MAKE
NO REPRESENTATIONS OR WARRANTIES, EITHER EXPRESS OR IMPLIED,
INCLUDING BUT NOT LIMITED TO, WARRANTIES OF MERCHANTABILITY,
FITNESS FOR A PARTICULAR PURPOSE, OR NON-INFRINGEMENT THAT THE
CONTENTS OF THE SPECIFICATION ARE SUITABLE FOR ANY PURPOSE OR
THAT ANY PRACTICE OR IMPLEMENTATION OF SUCH CONTENTS WILL NOT
INFRINGE ANY THIRD PARTY PATENTS, COPYRIGHTS, TRADE SECRETS OR
OTHER RIGHTS.

This document does not represent any commitment to release or
implement any portion of the Specification in any product.

THE SPECIFICATION COULD INCLUDE TECHNICAL INACCURACIES OR
TYPOGRAPHICAL ERRORS. CHANGES ARE PERIODICALLY ADDED TO THE
INFORMATION THEREIN; THESE CHANGES WILL BE INCORPORATED INTO
NEW VERSIONS OF THE SPECIFICATION, IF ANY. THE SPECIFICATION
LEADS MAY MAKE IMPROVEMENTS AND/OR CHANGES TO THE PRODUCT(S)
AND/OR THE PROGRAM(S) DESCRIBED IN THE SPECIFICATION AT ANY
TIME.

Any use of such changes in the Specification will be governed
by the then-current license for the applicable version of the
Specification.

*LIMITATION OF LIABILITY*

TO THE EXTENT NOT PROHIBITED BY LAW, IN NO EVENT WILL THE
SPECIFICATION LEADS AND/OR THEIR LICENSORS BE LIABLE FOR ANY
DAMAGES, INCLUDING WITHOUT LIMITATION, LOST REVENUE, PROFITS OR
DATA, OR FOR SPECIAL, INDIRECT, CONSEQUENTIAL, INCIDENTAL OR
PUNITIVE DAMAGES, HOWEVER CAUSED AND REGARDLESS OF THE THEORY OF
LIABILITY, ARISING OUT OF OR RELATED TO ANY FURNISHING, PRACTICING,
MODIFYING OR ANY USE OF THE SPECIFICATION, EVEN IF CREDIT SUISSE
AND/OR ITS LICENSORS HAVE BEEN ADVISED OF THE POSSIBILITY OF SUCH
DAMAGES.

You will hold the Specification Lead (and its licensors) harmless
from any claims based on your use of the Specification for any
purposes other than the limited right of evaluation as described
above, and from any claims that later versions or releases of any
Specification furnished to you are incompatible with the
Specification provided to you under this license.

*RESTRICTED RIGHTS LEGEND*

If this Software is being acquired by or on behalf of the U.S.
Government or by a U.S. Government prime contractor or subcontractor
(at any tier), then the Government's rights in the Software and
accompanying documentation shall be only as set forth in this license;
this is in accordance with 48 C.F.R. 227.7201 through 227.7202-4 (for
Department of Defense (DoD) acquisitions) and with 48 C.F.R. 2.101
and 12.212 (for non-DoD acquisitions)

*REPORT*

You may wish to report any ambiguities, inconsistencies or
inaccuracies you may find in connection with your evaluation of
the Specification ("Feedback"). To the extent that you provide
the Specification Lead with any Feedback, you hereby:
(i) agree that such Feedback is provided on a non-proprietary and
    non-confidential basis, and
(ii) grant the Specification Lead a perpetual, non-exclusive,
     worldwide, fully paid-up, irrevocable license, with the right
     to sublicense through multiple levels of sublicensees, to
     incorporate, disclose, and use without limitation the
     Feedback for any purpose related to the Specification and
     future versions, implementations, and test suites thereof.

*GENERAL TERMS*

Any action related to this Agreement will be governed by California
law and controlling U.S. federal law. The U.N. Convention for the
International Sale of Goods and the choice of law rules of any
jurisdiction will not apply. The Specification is subject to U.S.
export control laws and may be subject to export or import
regulations in other countries. Licensee agrees to comply strictly
with all such laws and regulations and acknowledges that it has
the responsibility to obtain such licenses to export, re-export or
import as may be required after delivery to Licensee. This Agreement
is the parties' entire a agreement relating to its subject matter.
It supersedes all prior or contemporaneous oral or written
communications, proposals, conditions, representations and
warranties and prevails over any conflicting or additional terms of
any quote, order, acknowledgment, or other communication between the
parties relating to its subject matter during the term of this
Agreement. No modification to this Agreement will be binding,
unless in writing and signed by an authorized representative of
each party.

:numbered:

<<<

== Introduction
This document is the specification of the Java API for Money and Currency. The technical objective is to provide a money
and currency API for Java, targeted at all users of currencies and monetary amounts, both simple but also expendable.
The API will provide support for standard [ISO-4217] and custom currencies, and a model for monetary amounts and
rounding. It will have extension points for adding additional features like currency exchange. financial calculations
and formulas.
Additionally, this JSR includes recommendations on interoperability and thread safety.

=== Expert group
This work is being conducted as part of JSR 354 under the Java Community Process. This specification is the
result of the collaborative work of the members of the JSR 354 Expert Group and the community at large. The following
persons have actively contributed to Java Money in alphabetical order:

* Greg Bakos
* Matthias Buecker (Credit Suisse)
* Stephen Colebourne
* Benjamin Cotton
* Jeremy Davies
* Thomas Huesler
* Scott James (Credit Suisse)
* Tony Jewell
* Werner Keil
* Bob Lee 
* Simon Martinelli
* Sanjay Nagpal (Credit Suisse)
* Christopher Pheby
* Jefferson Prestes
* Arumugam Swaminathan
* Mohamed Taman
* Anatole Tresch (Credit Suisse, Spec Lead)

=== Specification goals
Monetary values are a key feature of many applications, yet the JDK provides little or no support.
The existing +java.util.Currency+ class is strictly a structure used for representing current [<<ISO-4217>>] currencies,
but not associated values or custom currencies. The JDK also provides no support for monetary arithmetic or currency
conversion, nor for a standard value type to represent a monetary amount.

==== Specification Targets
JSR 354 targets to support all general application areas, e.g.

* eCommerce
* Banking
* Finance & Investment
* Insurance and Pension
* ERP systems
* etc.

This specification will not discuss low latency concerns as required for example by algorithmic trading applications.
Nevertheless the API was designed to support different implementations of monetary amounts and allows to be extended in
several ways. So it should be flexible enough that corresponding implementations can be used transparently to
accommodate such applications.

[[Scope]]
=== Scope
JSR 354 targets a standalone scope. Nevertheless it may be included into the JDK later, so its design and scope must
consider integration into the JDK. Additionally the work on the JSR has shown, that it is possible to define a flexible
and comprehensive API that is also almost compatible with Java ME. Since with the Internet of Things small
devices are getting more important, and there is high probability that monetary aspects must be implemented, the expert
group decided to keep the API independent of JDK artifacts that are not supported on ME, where easily possible.
Basically this affects usage of +java.math+ and +java.text+. Nevertheless the reference implementation is free to use
existing functionality and the JSR also includes requirements (also checkable by the TCK) to ensure a minimal set of
functionality on Java SE.
During the development of the JSR a wide set of features were implemented. Most of these features will not end up within
the JSR itself, as the JSR now has scope limited to interoperation, enabling feature innovation elsewhere. The
corresponding libraries were published under [JavaMoney] as an Apache 2 licensed open source project. Compared to the
early draft review the following features are no longer in the scope of the JSR:

* complex formatting (replaced by a simple formatter for amounts)
* region API
* validity API
* additional financial functions and formulas

Though the features above were removed from the JSR, their development ensured that scope was fully evaluated and that
the parts best suited to standardization were identified. Where beneficial to the community parts of the JavaMoney
project may also use Java 8 features like Lambdas when Java 8 goes final,  while the JSR remains backward-compatible
with Java 7 in first release, see below.

Including this JSR into the JDK at a time later time would be an option that should be discussed within a corresponding
Java Enhancement Proposal (JEP). For the time being the JSR focuses on the key monetary aspects to be modeled.

=== Required Java version
The specification is based on Java SE 8.0 language features. Implementations may target any suitable Java SE version,
or given an increasing SE/ME correlation also matching ME versions. For users of JDK 7 a forward compatible backport of
the API will be provided. This allows to design an API, which will easily fit into Java 9, but still supporting
older releases, since there are many financial applications and products that will require years
until they were migrated to Java 8. In general there are only a few aspects within the API that would be affected by
building the API based on Java 8, but there are many benefits, especially _default methods_ and _the functional features_.

